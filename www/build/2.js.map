{"version":3,"sources":["../../src/pages/team-add/team-add.module.ts","../../src/pages/team-add/team-add.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TeamAddPage } from './team-add';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TeamAddPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(TeamAddPage),\r\n  ],\r\n})\r\nexport class TeamAddPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/team-add/team-add.module.ts","import { Component, EventEmitter } from '@angular/core';\r\nimport { IonicPage, Platform, NavController, NavParams, ViewController, ActionSheetController } from 'ionic-angular';\r\nimport { FormsModule, FormBuilder, FormGroup, Validators, FormControl, FormArray, ReactiveFormsModule } from '@angular/forms';\r\nimport { ServicesProvider } from '../../providers/services/services';\r\nimport { DatabaseProvider } from '../../providers/database/database';\r\n\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { FileProvider } from '../../providers/file/file';\r\nimport { SharedService } from '../../providers/services/sharedServices';\r\nimport { ToastService } from '../../providers/services/toast';\r\nimport { GoogleAnalytics } from '@ionic-native/google-analytics';\r\n\r\n//import { Keyboard } from '@ionic-native/keyboard';\r\n//import {DomSanitizationService} from '@angular/platform-browser';\r\n/**\r\n * Generated class for the TeamAddPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-team-add',\r\n  templateUrl: 'team-add.html',\r\n})\r\nexport class TeamAddPage {\r\n  addTeamForm: FormGroup;\r\n  public photo: any;\r\n  public photoManager: any;\r\n  public base64Image: string;\r\n  teamImagename;\r\n  managerImageName;\r\n  activeTeam: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public viewCtrl: ViewController,\r\n    public navParams: NavParams,\r\n    private formBuilder: FormBuilder,\r\n    private service: ServicesProvider,\r\n    private dbProvider: DatabaseProvider,\r\n    public platform: Platform,\r\n    private camera: Camera,\r\n    private fileObj: FileProvider,\r\n    public toastCtrl : ToastService,\r\n    public _SharedService: SharedService,\r\n   // private keyboard: Keyboard,\r\n   // private _DomSanitizationService: DomSanitizationService,\r\n    public actionSheetCtrl: ActionSheetController,\r\n    private ga: GoogleAnalytics\r\n  ) {\r\n    this.ga.trackView('Make Your Team Page');\r\n    this.setFormControl();\r\n\r\n  }\r\n  setFormControl() {\r\n    this.addTeamForm = this.formBuilder.group({\r\n      team_name: ['', [Validators.required]],\r\n      manager_name: ['', [Validators.required]]\r\n    });\r\n  }\r\n  ngOnInit() {\r\n    //  this.photos = [];\r\n  }\r\n  presentActionSheet(type) {\r\n    let actionSheet = this.actionSheetCtrl.create({\r\n      title: 'Select Image Source',\r\n      buttons: [\r\n        {\r\n          text: 'Load from Library',\r\n          handler: () => {\r\n            if (type == 'logo')\r\n              this.takePhoto(this.camera.PictureSourceType.PHOTOLIBRARY)\r\n            else\r\n              this.takeManagerPhoto(this.camera.PictureSourceType.PHOTOLIBRARY)\r\n\r\n          }\r\n        },\r\n        {\r\n          text: 'Use Camera',\r\n          handler: () => {\r\n            if (type == 'logo')\r\n              this.takePhoto(this.camera.PictureSourceType.CAMERA)\r\n            else\r\n              this.takeManagerPhoto(this.camera.PictureSourceType.CAMERA)\r\n          }\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel'\r\n        }\r\n      ]\r\n    });\r\n    actionSheet.present();\r\n  }\r\n  takePhoto(sourceType) {\r\n    const options: CameraOptions = {\r\n      quality: 50, // picture quality\r\n      sourceType: sourceType,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE\r\n    }\r\n    this.camera.getPicture(options).then((imagePath) => {\r\n      this.base64Image = \"data:image/jpeg;base64,\" + imagePath;\r\n      this.photo = this.base64Image;\r\n      this.fileObj.saveBase64(this.base64Image,'team/').then((teamLogo)=>{\r\n          this.teamImagename = teamLogo\r\n        })\r\n        console.log(this.teamImagename)\r\n      }, (err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n  takeManagerPhoto(sourceType) {\r\n    const options: CameraOptions = {\r\n      quality: 50, // picture quality\r\n      sourceType: sourceType,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n      mediaType: this.camera.MediaType.PICTURE\r\n    }\r\n    this.camera.getPicture(options).then((imagePath) => {\r\n      this.base64Image = \"data:image/jpeg;base64,\" + imagePath;\r\n      this.photoManager = this.base64Image;\r\n      this.fileObj.saveBase64(this.base64Image,'team/').then((manager)=>{\r\n          this.managerImageName = manager\r\n        })\r\n        console.log('manager',this.managerImageName)\r\n      }, (err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad TeamAddPage');\r\n    //this.keyboard.disableScroll(true);\r\n  }\r\n  dismiss() {\r\n    this._SharedService.setOpenTeam.emit('false');\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  addTeam() {\r\n    console.log(\"ADD TEAM...\");\r\n  }\r\n\r\n  onSaveTeam() {\r\n\r\n    this.addTeamForm.patchValue({\r\n      defaultUser: this.addTeamForm\r\n    });\r\n    let formObjData = this.addTeamForm.value;\r\n\r\n    this.dbProvider.addCustomTeam(formObjData,this.teamImagename,this.managerImageName)\r\n    .then((customTeamData) => {\r\n      localStorage.setItem(\"activeLeague\", '1');\r\n      this.dbProvider.selectTeams(localStorage.getItem('activeLeague'), null).then((data)=>{\r\n        this._SharedService.refreshTeams.emit(data);\r\n        this._SharedService.retrieveData.emit(data);\r\n        this._SharedService.refreshDefaultTeams.emit(customTeamData['insertId']);\r\n        this.toastCtrl.callToast('A new team was added successfully.');\r\n        this.addLineUp(customTeamData['insertId'], formObjData['team_name']);\r\n      })\r\n      this.dismiss();\r\n    })\r\n  }\r\n\r\n  addLineUp(teamId, team_name) {\r\n    let lineUpArray: any = [];\r\n    let LineUpName = 'Team';\r\n    this.activeTeam = JSON.parse(localStorage.getItem('activeTeamDetails'));\r\n\r\n    lineUpArray.push({ 'leagueId': localStorage.getItem('activeLeague'), 'teamId': teamId, 'team': team_name, 'logo': '', 'teamName':  LineUpName});\r\n\r\n    this.dbProvider.insertLineUp(lineUpArray)\r\n      .then((lineupId) => {\r\n        this._SharedService.updateMenu.emit('update menu');\r\n    });\r\n  }\r\n\r\n  /*private presentToast(text) {\r\n    let toast = this.toastCtrl.create({\r\n      message: text,\r\n      duration: 3000,\r\n      position: 'top'\r\n    });\r\n    toast.present();\r\n  }*/\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/team-add/team-add.ts"],"sourceRoot":""}